<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Wivid | ハイパフォーマー紹介（Career Designer向け）</title>
    <meta name="description" content="Career Designerがユーザーに紹介できるハイパフォーマー情報。企業の経営層・人事責任者との接点を提供します。">
    <link rel="stylesheet" href="style.css">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Noto+Sans+JP:wght@400;500;700;900&family=Playfair+Display:wght@700&display=swap" rel="stylesheet">
    
    <!-- Firebase認証チェック -->
    <script type="module">
        import { checkAuthState } from './auth.js';
        
        // 認証状態をチェック
        checkAuthState((authState) => {
            if (!authState.authenticated) {
                // 未認証の場合、ログインページへリダイレクト
                window.location.href = 'login.html';
            } else {
                // 認証済みの場合、ページを表示
                document.body.style.display = 'block';
                console.log('✅ ログイン中:', authState.user.email);
            }
        });
    </script>
    
    <style>
        /* 認証チェック中はページを非表示 */
        body {
            display: none;
        }
    </style>
</head>
<body>
    <!-- ナビゲーション -->
    <nav class="navbar">
        <div class="nav-container">
            <a href="#" class="logo">
                <span class="logo-text">Wivid</span>
                <span class="logo-badge">HP</span>
            </a>
            <ul class="nav-links">
                <li><a href="#highperformers">ハイパフォーマー一覧</a></li>
                <li><a href="#how-to-use">活用方法</a></li>
                <li><a href="#conditions">紹介条件</a></li>
                <li><a href="admin.html">管理画面</a></li>
                <li><a href="import.html">CSV一括インポート</a></li>
                <li><a href="login-history.html">ログイン履歴</a></li>
                <li><a href="#" id="signOutBtn" style="color: #FFF100;">ログアウト</a></li>
            </ul>
            <span class="nav-label" id="userEmail">Career Designer向け社内ツール</span>
        </div>
    </nav>

    <!-- ヒーローセクション -->
    <section class="hero hero-compact">
        <div class="hero-bg"></div>
        <div class="hero-content">
            <p class="hero-label">For Career Designers</p>
            <h1 class="hero-title">
                ハイパフォーマーを<br>
                <span class="highlight">ユーザーに紹介</span>しよう
            </h1>
            <p class="hero-subtitle">
                経営層・人事責任者との面談機会を提供。<br>
                ユーザーの志向性や選考状況に合わせて、最適なハイパフォーマーを紹介してください。
            </p>
            <div class="hero-stats">
                <div class="stat">
                    <span class="stat-number" id="totalHPCount">17</span>
                    <span class="stat-label">社のハイパフォーマー</span>
                </div>
                <div class="stat">
                    <span class="stat-number">CEO/COO</span>
                    <span class="stat-label">経営層との接点</span>
                </div>
                <div class="stat">
                    <span class="stat-number">面談/座談会</span>
                    <span class="stat-label">多様な接触形式</span>
                </div>
            </div>
            <div class="hero-cta">
                <a href="#highperformers" class="btn btn-primary">ハイパフォーマーを見る</a>
            </div>
        </div>
    </section>

    <!-- 活用方法セクション -->
    <section id="how-to-use" class="how-to-use-section">
        <div class="container">
            <div class="section-header">
                <p class="section-label">How to Use</p>
                <h2 class="section-title">Career Designerとしての活用方法</h2>
            </div>
            
            <div class="steps-grid">
                <div class="step-card">
                    <div class="step-number">1</div>
                    <h3>ユーザーの状況を確認</h3>
                    <p>学歴、ガクチカ、選考状況、志向性を把握。紹介可能条件に合致するか確認してください。</p>
                </div>
                <div class="step-card">
                    <div class="step-number">2</div>
                    <h3>最適なハイパフォーマーを選定</h3>
                    <p>ユーザーの志向性に合うハイパフォーマーを選定。得られる知見や示唆を伝えましょう。</p>
                </div>
                <div class="step-card">
                    <div class="step-number">3</div>
                    <h3>担当セールスに連絡</h3>
                    <p>紹介したいHPの担当セールスに連絡し、面談調整を依頼してください。</p>
                </div>
                <div class="step-card">
                    <div class="step-number">4</div>
                    <h3>ユーザーに紹介</h3>
                    <p>「どんな人と会えるか」「何が得られるか」を明確に伝えて、面談をセットしましょう。</p>
                </div>
            </div>
        </div>
    </section>

    <!-- 紹介条件セクション -->
    <section id="conditions" class="conditions-section">
        <div class="container">
            <div class="section-header">
                <p class="section-label">Requirements</p>
                <h2 class="section-title">紹介可能な学生レベル目安</h2>
            </div>
            
            <div class="level-grid">
                <div class="level-card">
                    <div class="level-badge level-b">B</div>
                    <h3>ハイレベル</h3>
                    <ul>
                        <li>旧帝大・早慶・GMARCHが望ましい</li>
                        <li>特定の経験・スキル不問の場合あり</li>
                    </ul>
                </div>
                <div class="level-card">
                    <div class="level-badge level-b-minus">B−</div>
                    <h3>アッパー</h3>
                    <ul>
                        <li>旧帝大、一橋、東工大（早慶含まない場合あり）</li>
                        <li>起業経験あり、PL/BSが読める</li>
                        <li>長期インターンレベルではNG</li>
                    </ul>
                </div>
                <div class="level-card">
                    <div class="level-badge level-c-plus">C+</div>
                    <h3>スタンダード+</h3>
                    <ul>
                        <li>旧帝大早慶、海外大学</li>
                        <li>つくば、神戸、横国、一橋あたりもOK</li>
                        <li>外コン・外銀を受けている層</li>
                        <li>体育会系の部活動経験/主将・代表経験など</li>
                    </ul>
                </div>
                <div class="level-card">
                    <div class="level-badge level-c">C</div>
                    <h3>スタンダード</h3>
                    <ul>
                        <li>学群2以上</li>
                        <li>特定の経験不問の場合が多い</li>
                    </ul>
                </div>
            </div>
        </div>
    </section>

    <!-- ハイパフォーマー一覧セクション -->
    <section id="highperformers" class="hp-section">
        <div class="container">
            <div class="section-header">
                <p class="section-label">High Performers</p>
                <h2 class="section-title">ハイパフォーマー一覧</h2>
                <p class="section-desc">
                    フィルターを使って、ユーザーに最適なハイパフォーマーを探してください。
                </p>
            </div>

            <!-- フィルター -->
            <div class="filter-bar">
                <div class="filter-group">
                    <label>役職レベル</label>
                    <div class="filter-buttons" data-filter="role">
                        <button class="filter-btn active" data-value="all">すべて</button>
                        <button class="filter-btn" data-value="executive">経営層</button>
                        <button class="filter-btn" data-value="hr">人事責任者</button>
                        <button class="filter-btn" data-value="business">事業責任者</button>
                        <button class="filter-btn" data-value="manager">マネージャー</button>
                        <button class="filter-btn" data-value="leader">リーダー</button>
                        <button class="filter-btn" data-value="award">特別表彰受賞者</button>
                    </div>
                </div>
                <div class="filter-group">
                    <label>紹介レベル</label>
                    <div class="filter-buttons" data-filter="level">
                        <button class="filter-btn active" data-value="all">すべて</button>
                        <button class="filter-btn" data-value="B">B</button>
                        <button class="filter-btn" data-value="B-">B−</button>
                        <button class="filter-btn" data-value="C+">C+</button>
                        <button class="filter-btn" data-value="C">C</button>
                    </div>
                </div>
                <div class="filter-group">
                    <label>接触形式</label>
                    <div class="filter-buttons" data-filter="contact">
                        <button class="filter-btn active" data-value="all">すべて</button>
                        <button class="filter-btn" data-value="individual">個別面談</button>
                        <button class="filter-btn" data-value="group">座談会/イベント</button>
                    </div>
                </div>
            </div>

            <!-- ハイパフォーマーカードグリッド -->
            <div class="hp-grid">
                <!-- Firestoreから動的に生成されます -->
            </div>
        </div>
    </section>

    <!-- フッター -->
    <footer class="footer">
        <div class="container">
            <div class="footer-content">
                <div class="footer-brand">
                    <a href="#" class="logo">
                        <span class="logo-text">Wivid</span>
                        <span class="logo-badge">HP</span>
                    </a>
                    <p>Career Designer向けハイパフォーマー紹介ツール<br>ユーザーの成長をサポートしましょう</p>
                </div>
                <div class="footer-links">
                    <div class="footer-col">
                        <h4>担当セールス</h4>
                        <ul>
                            <li>山本</li>
                            <li>堀内</li>
                            <li>勝守</li>
                            <li>佐々木</li>
                        </ul>
                    </div>
                    <div class="footer-col">
                        <h4>クイックリンク</h4>
                        <ul>
                            <li><a href="#highperformers">HP一覧</a></li>
                            <li><a href="#how-to-use">活用方法</a></li>
                            <li><a href="#conditions">紹介条件</a></li>
                        </ul>
                    </div>
                </div>
            </div>
            <div class="footer-bottom">
                <p>&copy; 2025 Wivid Inc. Internal Tool</p>
            </div>
        </div>
    </footer>

    <script type="module" src="script.js"></script>
    
    <!-- ログアウト機能 -->
    <script type="module">
        import { signOutUser, getCurrentUser } from './auth.js';
        
        // ユーザー情報を表示
        const user = getCurrentUser();
        if (user) {
            const userEmailLabel = document.getElementById('userEmail');
            userEmailLabel.textContent = `${user.email}`;
            userEmailLabel.style.color = '#FFF100';
        }
        
        // ログアウトボタン
        document.getElementById('signOutBtn').addEventListener('click', async (e) => {
            e.preventDefault();
            if (confirm('ログアウトしますか？')) {
                await signOutUser();
                window.location.href = 'login.html';
            }
        });
    </script>
</body>
</html>
